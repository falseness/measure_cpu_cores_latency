# measure_cpu_cores_latency

This project measures the latency of passing cache lines between CPU cores on Linux.

## How to run
```bash
sudo ./prepare_to_run.sh
./compile_and_run.sh

==== 1 cache line (median) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  58.3  58.3 150.0 150.0 150.0
  2  58.3     -  58.3 141.7 150.0 150.0
  4  58.3  58.3     - 150.0 158.3 150.0
  6 141.7 150.0 150.0     -  58.3  58.3
  8 141.7 150.0 150.0  58.3     -  58.3
 10 150.0 150.0 150.0  58.3  58.3     -

==== 1 cache line (p90) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  66.7  66.7 166.7 200.0 200.0
  2  66.7     -  66.7 200.0 208.3 208.3
  4  66.7  75.0     - 191.7 216.7 208.3
  6 158.3 191.7 200.0     -  66.7  66.7
  8 158.3 200.0 208.3  66.7     -  75.0
 10 158.3 208.3 208.3  66.7  66.7     -

==== 1 cache line (p95) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  66.7  66.7 208.3 208.3 208.3
  2  66.7     -  75.0 216.7 250.0 216.7
  4  66.7  75.0     - 208.3 225.0 216.7
  6 208.3 208.3 216.7     -  66.7  66.7
  8 208.3 208.3 216.7  66.7     -  75.0
 10 208.3 216.7 216.7  66.7  75.0     -

==== 2 cache lines (median) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  66.7  66.7 150.0 150.0 150.0
  2  66.7     -  66.7 141.7 150.0 150.0
  4  66.7  66.7     - 150.0 150.0 150.0
  6 150.0 150.0 158.3     -  66.7  75.0
  8 141.7 150.0 150.0  66.7     -  66.7
 10 150.0 150.0 150.0  66.7  66.7     -

==== 2 cache lines (p90) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  75.0  75.0 158.3 158.3 158.3
  2  75.0     -  75.0 158.3 166.7 158.3
  4  75.0  91.7     - 158.3 158.3 158.3
  6 158.3 158.3 166.7     -  75.0  83.3
  8 158.3 158.3 158.3  75.0     -  91.7
 10 158.3 158.3 158.3  75.0  75.0     -

==== 2 cache lines (p95) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  75.0  75.0 208.3 208.3 208.3
  2  75.0     -  75.0 208.3 216.7 208.3
  4  75.0  91.7     - 208.3 216.7 216.7
  6 208.3 216.7 225.0     -  75.0  83.3
  8 200.0 216.7 216.7  75.0     -  91.7
 10 208.3 216.7 216.7  75.0  83.3     -

```



## Features
- Pin sender/receiver threads to specific cores.
- Measures transfer time for **1 cache line (64B)** and **2 cache lines (128B)**.
- Reports **median, p90, p95** latencies in nanoseconds.