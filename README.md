# measure_cpu_cores_latency

This project measures the latency of passing cache lines between CPU cores on Linux.

## How to run
```bash
sudo ./prepare_to_run.sh
./compile_and_run.sh

==== 1 cache line (median) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  58.3  58.3 150.0 150.0 150.0
  2  58.3     -  66.7 150.0 150.0 150.0
  4  58.3  66.7     - 150.0 150.0 150.0
  6 150.0 150.0 150.0     -  58.3  58.3
  8 150.0 150.0 150.0  58.3     -  66.7
 10 141.7 141.7 150.0  66.7  66.7     -

==== 1 cache line (p90) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  66.7  66.7 158.3 158.3 158.3
  2  66.7     -  66.7 158.3 158.3 158.3
  4  66.7  66.7     - 158.3 158.3 158.3
  6 158.3 158.3 158.3     -  66.7  66.7
  8 158.3 158.3 158.3  66.7     -  66.7
 10 158.3 158.3 158.3  66.7  66.7     -

==== 1 cache line (p95) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  66.7  66.7 158.3 158.3 158.3
  2  66.7     -  66.7 158.3 158.3 158.3
  4  66.7  66.7     - 158.3 158.3 158.3
  6 158.3 158.3 158.3     -  66.7  66.7
  8 158.3 158.3 158.3  66.7     -  66.7
 10 166.7 166.7 158.3  66.7  66.7     -

==== 2 cache lines (median) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  58.3  66.7 150.0 150.0 150.0
  2  58.3     -  66.7 150.0 150.0 150.0
  4  66.7  66.7     - 150.0 150.0 150.0
  6 150.0 150.0 141.7     -  58.3  66.7
  8 141.7 150.0 150.0  58.3     -  66.7
 10 150.0 150.0 150.0  75.0  66.7     -

==== 2 cache lines (p90) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  58.3  66.7 158.3 158.3 158.3
  2  58.3     -  66.7 158.3 158.3 158.3
  4  66.7  66.7     - 158.3 158.3 158.3
  6 158.3 158.3 158.3     -  58.3  66.7
  8 150.0 158.3 158.3  58.3     -  66.7
 10 158.3 158.3 158.3  75.0  66.7     -

==== 2 cache lines (p95) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     -  66.7  66.7 158.3 158.3 158.3
  2  58.3     -  66.7 158.3 158.3 158.3
  4  66.7  66.7     - 158.3 158.3 158.3
  6 158.3 158.3 158.3     -  66.7  66.7
  8 150.0 158.3 158.3  58.3     -  66.7
 10 158.3 158.3 158.3  75.0  66.7     -

```



## Features
- Pin sender/receiver threads to specific cores.
- Measures transfer time for **1 cache line (64B)** and **2 cache lines (128B)**.
- Reports **median, p90, p95** latencies in nanoseconds.