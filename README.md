# measure_cpu_cores_latency

This project measures the latency of passing cache lines between CPU cores on Linux.

## How to run
```bash
sudo ./prepare_to_run.sh
./compile_and_run.sh

==== 1 cache line (median) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     - 100.0 100.0 208.3 216.7 216.7
  2 100.0     - 100.0 216.7 216.7 216.7
  4 100.0 100.0     - 216.7 216.7 216.7
  6 208.3 208.3 216.7     - 100.0 100.0
  8 208.3 216.7 216.7 108.3     - 100.0
 10 216.7 216.7 216.7 100.0 100.0     -

==== 1 cache line (p90) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     - 100.0 108.3 233.3 233.3 233.3
  2 100.0     - 100.0 233.3 233.3 233.3
  4 108.3 100.0     - 233.3 216.7 225.0
  6 216.7 216.7 216.7     - 100.0 108.3
  8 216.7 216.7 216.7 108.3     - 100.0
 10 216.7 216.7 225.0 108.3 100.0     -

==== 1 cache line (p95) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     - 100.0 108.3 300.0 308.3 308.3
  2 100.0     - 108.3 308.3 316.7 308.3
  4 108.3 108.3     - 308.3 233.3 233.3
  6 225.0 233.3 233.3     - 100.0 108.3
  8 225.0 233.3 233.3 108.3     - 108.3
 10 233.3 233.3 233.3 108.3 108.3     -

==== 2 cache lines (median) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     - 116.7 116.7 233.3 233.3 233.3
  2 108.3     - 125.0 233.3 233.3 233.3
  4 116.7 116.7     - 233.3 233.3 233.3
  6 233.3 233.3 233.3     - 116.7 116.7
  8 225.0 233.3 233.3 116.7     - 125.0
 10 233.3 233.3 233.3 125.0 116.7     -

==== 2 cache lines (p90) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     - 116.7 125.0 233.3 233.3 233.3
  2 108.3     - 133.3 233.3 233.3 233.3
  4 125.0 125.0     - 233.3 241.7 241.7
  6 233.3 233.3 233.3     - 116.7 125.0
  8 233.3 233.3 233.3 116.7     - 133.3
 10 233.3 233.3 241.7 133.3 125.0     -

==== 2 cache lines (p95) ====
cpu     0     2     4     6     8    10
--- ----- ----- ----- ----- ----- -----
  0     - 116.7 125.0 233.3 233.3 241.7
  2 108.3     - 133.3 233.3 233.3 241.7
  4 125.0 125.0     - 241.7 250.0 241.7
  6 241.7 233.3 241.7     - 116.7 125.0
  8 233.3 233.3 241.7 116.7     - 133.3
 10 241.7 241.7 241.7 133.3 125.0     -

```



## Features
- Pin sender/receiver threads to specific cores.
- Measures transfer time for **1 cache line (64B)** and **2 cache lines (128B)**.
- Reports **median, p90, p95** latencies in nanoseconds.